name: Slash command workflow deployments
run-name: Slash command workflow deployment by @${{ fromJson(inputs.payload).actor }}

on:
  workflow_dispatch:
    inputs:
      payload:
        description: Extra data automatically generated by the slash command handler
        required: false
        default: '{}'
        type: string

jobs:
  deploy:
    name: Deploy
    runs-on: ubuntu-latest
    # environment: production
    steps:
      - name: Log GitHub context
        shell: bash
        env:
          GITHUB_CONTEXT: ${{ toJSON(github) }}
          ACTOR: ${{ fromJSON(inputs.payload).actor }}
          PAYLOAD: ${{ inputs.payload }}
        run: |
          echo "$ACTOR"
          echo "$GITHUB_CONTEXT"
          echo "$PAYLOAD"
